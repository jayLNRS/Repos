config:
  phases:
    - name: 300s_1rps
      duration: 300
      arrivalRate: 1
  fake-data:
    randAmount:
      min: 250000
      max: 1000000
    randNumber:
      min: 1
      max: 9
  payload:
    - path: ../data/Ardshin.csv
      fields:
        - effectiveDateTime
  variables:
    transaction_type:
      - CREDIT
      - DEBIT
    paymentType:
      - 5012
      - 5021
      - 5024
      - 5025
      - 5031
      - 5023
      - 101
      - 102
      - 107
      - 109
    paymentSubtype:
      - 2
      - 3

scenarios:
  - name: "Test Ardshin Strategy in PP"
    flow:
      - post:
          url: "/TruAccountAPI/rest/Accounts/v1/RunStrategy"
          json:
            {
              "accountStrategyId": 1591,
              "accountReference": "AC510539",
              "financialAccount": {
                "financialTransaction": [
                  {
                    "clientReference": "",
                    "sortCode": "000000",
                    "accountNumber": "10000004",
                    "accountHolder": "",
                    "creditOrDebit": "{{ transaction_type }}",
                    "currencyCode": "AMD",
                    "paymentType": "{{ paymentType }}",
                    "paymentSubtype": "{{ paymentSubtype }}",
                    "countryOfTransaction": "",
                    "amount": "{{ $randAmount() }}",
                    "paymentReference": "",
                    "effectiveDateTime": "{{ effectiveDateTime }}"
                  }
                ]
              }
            }