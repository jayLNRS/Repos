config:
  phases:
    - name: 300s_1rps
      duration: 300
      arrivalRate: 1
  ensure:
    maxErrorRate: 0
    thresholds:
      - http.response_time.min: 1000
      - http.response_time.mean: 2000
      - http.response_time.p95: 2000
      - http.response_time.p99: 3000
      - http.response_time.max: 5000

scenarios:
  - name: "Test Baseline Journey in PP"
    flow:
      - post:
          url: "/TruAPI/rest/TruRest/RunJourney"
          json:
            {
              "journeyId": 7236,
              "person": [
                {
                  "role": "APPLICANT",
                  "clientReference": "{{ $randBic() }}",
                  "firstName": "{{ $randFirstName() }}",
                  "middleNames": "{{ $randFirstName() }}",
                  "lastName": "{{ $randFirstName() }}",
                  "dateOfBirth": "1900-11-01",
                  "emailAddress": "{{ $randEmail() }}",
                  "mobilePhoneNumber": "{{ $randPhoneNumber() }}",
                  "gender": "",
                  "residentialAddress": [
                    {
                      "addressLine1": "{{ $randStreetAddress() }}",
                      "addressLine2": "{{ $randStreetName() }}",
                      "addressLine3": "{{ $randCity() }}",
                      "zipPostCode": "{{ $randZipCode() }}",
                      "country": "GBR"
                    }
                  ]
                }
              ]
            }

